<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WoW Shadowlands Icecrown Rares</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

    <link rel="stylesheet" href="style.css?v=9">
    <script src="script.js?v=9"></script>

    <script>const whTooltips = {colorLinks: true, iconizeLinks: false, renameLinks: false};</script>
    <script src="https://wow.zamimg.com/widgets/power.js"></script>
</head>
<body>

<div class="container">

    <h3 id="title">WoW Shadowlands Prepatch Icecrown Rares <a href="#" id="link-help" title="Show help"><i class="fa fa-question-circle"></i></a></h3>

    <form class="form-inline">
        <label for="select-last-rare">Last killed rare</label>
        <select id="select-last-rare" class="form-elem"></select>

        <label for="input-last-at">Last killed at</label>
        <input id="input-last-at" type="time" class="form-elem">

        <label for="input-show-num">Show amount</label>
        <input id="input-show-num" type="number" value="20" class="form-elem">

        <div class="form-check form-check-inline">
            <input id="check-beep" type="checkbox" class="form-check-input">
            <label for="check-beep" class="form-check-label">Play sound</label>  
        </div>

        <button type="button" id="btn-sync-eu" class="button">Sync to EU</button>
        <button type="button" id="btn-sync-na" class="button">Sync to NA</button>

        <div class="form-check form-check-inline">
            <input id="check-show-class" type="checkbox" class="form-check-input">
            <label for="check-show-class" class="form-check-label">Show assign class column</label>  
        </div>

    </form>

    <hr>

    <table id="table-rares" class="table">
        <tr class="header">
            <th>Spawn at</th>
            <th>Time left</th>
            <th>Rare name</th>
            <th>Coords</th>
            <th>Drop</th>
            <th class="class-header hide">Assign class</th>
        </tr>
    </table>
</div>

<hr>

<h5 id="help-section">How to use?</h5>

<ul>
    <li>Click "Sync to EU" or "Sync to NA" to automatically populate the fields and sync the time to the latest rare in the region.</li>
    <li>Alternatively you can change the fields manually (like add 3-4 minutes to "Last killed at" so the timer tracks when the rare actually becomes active/killable).</li>
    <li>Set the "Show amount" field to manually decrease/increase the list size. Default 20 is a full one rare rotation.</li>
    <li>Check the "Play sound" -checkbox to enable an audio notification when a rare is spawning.</li>
    <li>Click the copy icon next to the coords (<i class="fa fa-copy"></i>) to copy a macro to clipboard. Paste it to in-game chat to add a map pin to the Icecrown map.</li>
    <li>Check the "Show assign class column" -checkbox to show dropdown list of each class for every rare to quickly track on which alt you want to kill the rare.</li>
</ul>

<template id="template-item" class="template">
    <tr class="item" data-id="">
        <td class="spawn-at"></td>
        <td class="time-left" data-ts=""></td>
        <td class="rare-name" data-name=""></td>
        <td class="coords"><span></span> <a href="#" class="link-copy-coords" title="Copy map pin macro to clipboard"><i class="fa fa-copy"></i></a></td>
        <td class="drop" data-name=""></td>
        <td class="class hide">
            <select class="select-class">
                <option value="">None</option>
                <option value="death-knight">Death Knight</option>
                <option value="demon-hunter">Demon Hunter</option>
                <option value="druid">Druid</option>
                <option value="hunter">Hunter</option>
                <option value="mage">Mage</option>
                <option value="monk">Monk</option>
                <option value="paladin">Paladin</option>
                <option value="priest">Priest</option>
                <option value="rogue">Rogue</option>
                <option value="shaman">Shaman</option>
                <option value="warlock">Warlock</option>
                <option value="warrior">Warrior</option>
            </select>
        </td>
    </tr>
</template>

</body>
</html>